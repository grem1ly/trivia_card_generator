<!DOCTYPE html>
<html lang="en">
<head>
  <title>Trivia Template</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel = "stylesheet" href="trivia_card.css">
</head>
<body>

<button class="new_card_button" onclick="new_card(this)" style="margin: auto;">Create New Trivia Card</button>

<script>

function fill(id, selection) {

  if (document.getElementById(id).innerHTML.length > 0) {
    var ask = confirm("Keep as is?");
    if (ask) {
      var size = confirm("Keep same size?");
      if (size) {
      }
      else {
        var font_size = prompt("Enter size");
        this.style.fontSize = font_size + "px";
      }
    }
    else {
      var change = prompt("Edit", document.getElementById(id).innerHTML);
        document.getElementById(id).innerHTML = change;
    }
  }
  else if (document.getElementById(id).innerHTML.length == 0) {
    if (selection == "question"){
      var insert = prompt("Enter question");
    }
    else if (selection == "option"){
      var insert = prompt("Enter option");
    }
    else{
      var insert = prompt("Enter answer");
    }
    document.getElementById(id).innerHTML= insert;
  }
}

var count = 1;

function new_card() {

  var initial_button = document.getElementsByClassName("new_card_button");
  initial_button[initial_button.length - 1].remove();

  var new_front = document.createElement('div');
  new_front.className = "front_template";
  document.body.appendChild(new_front);

  var new_back = document.createElement('div');
  new_back.className = "back_template";
  var back_insert = document.createElement('div');
  back_insert.className = "inner_rect";
  var question = document.createElement('div');
  question.className = "question";
  question.id = "question_" + count;
  question.onclick = function(){fill(question.id, "question")};
  var option1 = document.createElement('div');
  option1.className = "option";
  option1.id = "option1_" + count;
  option1.onclick = function(){fill(option1.id, "option")};
  var option2 = document.createElement('div');
  option2.className = "option";
  option2.id = "option2_" + count;
  option2.onclick = function(){fill(option2.id, "option")};
  var option3 = document.createElement('div');
  option3.className = "option";
  option3.id = "option3_" + count;
  option3.onclick = function(){fill(option3.id, "option")};
  var answer = document.createElement('div');
  answer.className = "answer";
  answer.id = "answer_" + count;
  answer.onclick = function(){fill(answer.id, "answer")};

  var my_array = [1,2,3,4];
  var temp1 = Math.floor(Math.random() * (4 - 1 + 1)) + 1;
  x1 = my_array.indexOf(temp1);
  my_array.splice(x1, 1);
  var temp2 = my_array[Math.floor(my_array.length * Math.random())];
  x2 = my_array.indexOf(temp2);
  my_array.splice(x2, 1);
  var temp3 = my_array[Math.floor(my_array.length * Math.random())];
  x3 = my_array.indexOf(temp3);
  my_array.splice(x3, 1);
  var temp4 = my_array[0];

  console.log(temp1, temp2, temp3, temp4);

  back_insert.appendChild(question);

  for (var i = 1; i < 5; i++) {
    if (temp1 == i) {
      back_insert.appendChild(option1);
    }
    else if (temp2 == i) {
      back_insert.appendChild(option2);
    }
    else if (temp3 == i) {
      back_insert.appendChild(option3);
    }
    else if (temp4 == i) {
      back_insert.appendChild(answer);
    }
  }

  new_back.appendChild(back_insert);
  document.body.appendChild(new_back);

  var button = document.createElement('input');
  button.type = "button";
  button.onclick = new_card;
  button.className = "new_card_button";
  button.value = "Add Card";
  button.style.float = "left";
  document.body.appendChild(button);

  count++;
}

</script>

</body>
</html>
